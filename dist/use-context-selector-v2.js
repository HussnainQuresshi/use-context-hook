var e=require("react");function r(){return r=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r.apply(this,arguments)}function t(r,t){var n=e.useContext(r),u=n.value,c=n.registerListener,i=e.useState(function(){return t(u.current)}),o=i[0],f=i[1],s=e.useRef(t);return e.useEffect(function(){s.current=t},[t,s]),e.useEffect(function(){return c(function(e,r){return function(e,r){var t=s.current(e),n=s.current(r);JSON.stringify(t)!==JSON.stringify(n)&&f(function(){return t})}(e,r)})},[c,u]),o}exports.createContext=function(){var r,t=/*#__PURE__*/e.createContext();return delete t.Consumer,t.Provider=(r=t.Provider,function(t){var n=t.value,u=t.children,c=e.useRef(n),i=e.useRef(new Set),o=e.useRef({value:c,registerListener:function(e){return i.current.add(e),function(){return i.current.delete(e)}},listeners:new Set});return e.useEffect(function(){i.current.forEach(function(e){e(n,c.current)}),c.current=n},[n]),h(r,{value:o.current},u)}),t},exports.useContextSelector=function(e,n){return"function"==typeof n?t(e,n):Array.isArray(n)?t(e,function(e){return n.reduce(function(t,n){var u;return r({},t,((u={})[n]=e[n],u))},{})}):"object"==typeof n?t(e,function(e){return Object.keys(n).filter(function(e){return n[e]}).reduce(function(t,n){var u;return r({},t,((u={})[n]=e[n],u))},{})}):void 0};
//# sourceMappingURL=use-context-selector-v2.js.map
